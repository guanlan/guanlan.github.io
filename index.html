<!DOCTYPE html>
<html lang="en-us">
    <head>
	<meta name="generator" content="Hugo 0.148.1">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Guanlan Dai</title><meta name="Description" content="This is my cool site"><meta property="og:url" content="https://rmmod.com/">
  <meta property="og:site_name" content="Guanlan Dai">
  <meta property="og:title" content="Guanlan Dai">
  <meta property="og:description" content="This is my cool site">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Guanlan Dai">
  <meta name="twitter:description" content="This is my cool site">
      <meta name="twitter:site" content="@guanlandai">
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://rmmod.com/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="Guanlan Dai">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="Guanlan Dai"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https:\/\/rmmod.com\/","inLanguage": "en-us","description": "This is my cool site","name": "Guanlan Dai"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Guanlan Dai">Guanlan Dai</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item active" href="/"> Home </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Guanlan Dai">Guanlan Dai</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">Home</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="page home" data-home="posts"><div class="home-profile"><div class="home-avatar"><a href="/" title="Home"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://www.gravatar.com/avatar/a1a5f762bca516ff1fe40d39ac1e4f67?s=240&amp;d=mp"
        data-srcset="https://www.gravatar.com/avatar/a1a5f762bca516ff1fe40d39ac1e4f67?s=240&amp;d=mp, https://www.gravatar.com/avatar/a1a5f762bca516ff1fe40d39ac1e4f67?s=240&amp;d=mp 1.5x, https://www.gravatar.com/avatar/a1a5f762bca516ff1fe40d39ac1e4f67?s=240&amp;d=mp 2x"
        data-sizes="auto"
        alt="https://www.gravatar.com/avatar/a1a5f762bca516ff1fe40d39ac1e4f67?s=240&amp;d=mp"
        title="https://www.gravatar.com/avatar/a1a5f762bca516ff1fe40d39ac1e4f67?s=240&amp;d=mp" /></a></div><h1 class="home-title">Guanlan Dai</h1><div class="links"><a href="https://github.com/guanlan" title="GitHub" target="_blank" rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw" aria-hidden="true"></i></a>
<a href="https://linkedin.com/in/guanlandai" title="LinkedIn" target="_blank" rel="noopener noreffer me"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a>
<a href="https://twitter.com/guanlandai" title="Twitter" target="_blank" rel="noopener noreffer me"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a>
<a href="https://www.instagram.com/xgzero" title="Instagram" target="_blank" rel="noopener noreffer me"><i class="fab fa-instagram fa-fw" aria-hidden="true"></i></a>
<a href="/index.xml" title="RSS" target="_blank" rel="noopener noreffer me"><i class="fas fa-rss fa-fw" aria-hidden="true"></i></a>
</div></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/rust-based-router-kong-gateway/">Deep Dive into Kong Gateway&#39;s New Rust-Based Router</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>guanlan</a>
</span>&nbsp;<span class="post-publish">published on <time datetime="2024-07-18">2024-07-18</time></span></div><div class="content"><h2 id="what-is-the-expressions-router">What is the Expressions Router?</h2>
<p>The router component in the Kong Gateway is a crucial element for traffic handling, allowing the definition of specific matching rules to identify and process client requests. As a core component of the gateway, the router plays a vital role in ensuring the functionality, flexibility, security as well as performance of the gateway.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/668eda3d-image7-2.png"
        data-srcset="/img/668eda3d-image7-2.png, /img/668eda3d-image7-2.png 1.5x, /img/668eda3d-image7-2.png 2x"
        data-sizes="auto"
        alt="/img/668eda3d-image7-2.png"
        title="Kong gateway" /></p>
<p>In the 3.0 version update of the Kong API Gateway, the routing system was completely rewritten in Rust — a memory-safe and efficient language. A concise DSL (Domain Specific Language) was designed to define routing rules efficiently, called the &ldquo;Expressions Router.&rdquo; The new design reduced the routing construction time by 75% when handling up to 10,000 routing rules, significantly decreasing from 20 seconds to 5 seconds.</p></div><div class="post-footer">
        <a href="/posts/rust-based-router-kong-gateway/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/kong/">Kong</a>,&nbsp;<a href="/tags/rust/">Rust</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/kong-gateway-rate-limiting/">Protecting Services With Kong Gateway Rate Limiting</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>guanlan</a>
</span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-18">2021-05-18</time></span></div><div class="content"><p>The Kong Gateway Rate Limiting <a href="https://docs.konghq.com/hub/kong-inc/rate-limiting" target="_blank" rel="noopener noreffer">plugin</a>
 is one of our most popular traffic control add-ons. You can configure the plugin with a policy for what constitutes &ldquo;similar requests&rdquo; (requests coming from the same IP address, for example), and you can set your limits (limit to 10 requests per minute, for example). This tutorial will walk through how simple it is to enable rate limiting in your <a href="https://konghq.com/kong" target="_blank" rel="noopener noreffer">Kong Gateway</a>
.</p>
<h2 id="rate-limiting-protecting-your-server-101">Rate Limiting: Protecting Your Server 101</h2>
<p>Let&rsquo;s take a step back and go over the concept of rate limiting for those who aren&rsquo;t familiar.</p></div><div class="post-footer">
        <a href="/posts/kong-gateway-rate-limiting/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/kong/">Kong</a>,&nbsp;<a href="/tags/rate-limiting/">Rate Limiting</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/how-to-design-a-scalable-rate-limiting-algorithm/">How to Design a Scalable Rate Limiting Algorithm</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>guanlan</a>
</span>&nbsp;<span class="post-publish">published on <time datetime="2021-01-15">2021-01-15</time></span></div><div class="content"><h2 id="what-is-rate-limiting">What is rate limiting?</h2>
<p>Rate limiting protects your APIs from inadvertent or malicious overuse by limiting how often each user can call the API. Without rate limiting, each user may make a request as often as they like, leading to &ldquo;spikes&rdquo; of requests that starve other consumers. Once enabled, rate limiting can only perform a fixed number of requests per second. A rate limiting algorithm helps automate the process.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/01-rate-limit-kong.png"
        data-srcset="/img/01-rate-limit-kong.png, /img/01-rate-limit-kong.png 1.5x, /img/01-rate-limit-kong.png 2x"
        data-sizes="auto"
        alt="/img/01-rate-limit-kong.png"
        title="rate limiting enabled at 2 requests/min" /></p></div><div class="post-footer">
        <a href="/posts/how-to-design-a-scalable-rate-limiting-algorithm/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/kong/">Kong</a>,&nbsp;<a href="/tags/rate-limiting/">Rate Limiting</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/effective-web-crawler/">Practical Tips on Writing an Effective Web Crawler</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>guanlan</a>
</span>&nbsp;<span class="post-publish">published on <time datetime="2021-01-15">2021-01-15</time></span></div><div class="content"><p>A web crawler is a hard-working bot to gather information or index the pages on the Internet. It starts at some seeds URLs and finds every hyperlink on each page, and then crawler will visit those hyperlinks recursively.</p>
<h3 id="1-choose-an-ideal-programming-language">1. Choose an Ideal Programming Language</h3>
<p>Based on the ranking of popular languages on developing web crawlers (based on result numbers of relative repositories host on Github on February, 2013). Python or Ruby probably is a wise choice, the mainly speed limit of web crawler is network latency not CPU, so choose Python or Ruby as a language to develop a web crawler will make life easier. Python provide some standard libraries, they are very useful, such like urllib, httplib and regex, those libraries can handle lots of work. Python also has plenty of valuable third-party libraries worth a try: <strong><a href="http://scrapy.org/" target="_blank" rel="noopener noreffer">scrapy</a>
</strong>, a web scraping framework. <strong><a href="http://urllib3.readthedocs.org/en/latest/" target="_blank" rel="noopener noreffer">urllib3</a>
</strong>, a Python HTTP library with thread-safe connection pooling, file post support. <strong><a href="http://greenlet.readthedocs.org/" target="_blank" rel="noopener noreffer">greenlet</a>
</strong>, a Lightweight concurrent programming framework. <em><strong><a href="http://twistedmatrix.com/" target="_blank" rel="noopener noreffer">twisted</a>
</strong></em>, an <strong>event-driven networking engine.</strong>  </p></div><div class="post-footer">
        <a href="/posts/effective-web-crawler/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/networking/">Networking</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/snippets-for-racket-language/">Snippets for Racket Language</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>guanlan</a>
</span>&nbsp;<span class="post-publish">published on <time datetime="2013-02-03">2013-02-03</time></span></div><div class="content"><p>In the CS 5010 - Programming Design Paradigm course, we need write tons of documents,  repeat ourselves again and again, so I develop this snippet to save us time. If you using vim, you need install <a href="http://www.vim.org/scripts/script.php?script_id=2540" target="_blank" rel="noopener noreffer">snipMate</a>
 first, You can get the snippet on my Github: <a href="https://github.com/guanlan/snippet-for-racket" target="_blank" rel="noopener noreffer">https://github.com/guanlan/snippet-for-racket</a>
 download the snippet file and put in ~/.vim/snippets/ You can <a href="http://www.youtube.com/watch?v=upGPM9jN25Y" target="_blank" rel="noopener noreffer">watch demo here</a>
 This snippets is also available on sublime, you can <a href="http://web-design-weekly.com/2012/07/03/snippets-in-sublime-text-2/" target="_blank" rel="noopener noreffer">read tutorial here</a>
.</p></div><div class="post-footer">
        <a href="/posts/snippets-for-racket-language/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/lisp/">Lisp</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/rethink-in-functional-languages/">Rethink in Functional Languages</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>guanlan</a>
</span>&nbsp;<span class="post-publish">published on <time datetime="2013-01-09">2013-01-09</time></span></div><div class="content"><p>After about 3 months to learn and using Racket (a programming language in Lisp/Scheme family),  I learning lots of concepts of programming. The most important thing in FL(functional languages) is: <strong>&quot;<em>All data are immutable. All functions are pure.</em>&quot;</strong>  </p>
<h2 id="immutable-data"> Immutable Data</h2>
<p>Immutable data cannot be modified after being created. It has many advantages:</p>
<ol>
<li><strong>Inherently Thread safety</strong> Parallel programming is the nightmare of some programers, because different threads simultaneously access the same object can cause unexpected problem, such like a race conditions. The most famous and classical example is <a href="http://en.wikipedia.org/wiki/Race_condition#Example" target="_blank" rel="noopener noreffer">Bank Account Problem</a>
. Today we get more and more cores in our computers, so the <a href="http://www.infoq.com/news/2008/06/scala-vs-erlang" target="_blank" rel="noopener noreffer">multi-core crisis</a>
 we need to face, some experts believe in the future, we using Scala or Erlang to deal with this crisis.Interesting thing is many &ldquo;next generation&rdquo; language is either the functional or support functional paradigm.</li>
<li><strong>Eliminate side-effects</strong> There are so many reasons. Most important thing is global variables are difficult to understand. For example, if we want understand one functions in the non-trival project,  and we find a variable define in other place, so we will jump to the definition of this variable and other places where modify it, it will cost us more time to figure out what the exactly meaning of this function. So there is the same reason why the code is much easier to understand if we use immutable objects, because the scope of an immutable object is limited as possible. It will make our programming easier and more robust.</li>
</ol>
<p>  The programming experts from other languages also know we need use immutable data as more as possible: Joshua Bloch,the author of Effective Java, said, “If an object is immutable, it can be in only one state, and you win big.You never have to worry about what state the object is in, and you can share it freely, with no need for synchronization.” Scott Meyers, Effective C++, Item 3: <a href="http://codeidol.com/cpp/effective-cpp/Accustoming-Yourself-to-C/Item-3-Use-const-whenever-possible/" target="_blank" rel="noopener noreffer">Use <em>const</em> whenever possible</a>
. Other languages also use immutable data frequently, such like Python, the number/string/tuple types are immutable data, the String build-in class in Java is immutable too. But immutable data is inconvenient in some situation:</p></div><div class="post-footer">
        <a href="/posts/rethink-in-functional-languages/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/lisp/">Lisp</a>,&nbsp;<a href="/tags/python/">Python</a></div></div>
</article><ul class="pagination"><li class="page-item active">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/2/">2</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/3/">3</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/4/">4</a>
                    </span>
                </li></ul></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Guanlan Dai | CC BY-NC 4.0</div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2009 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/css/_code-highlight.scss"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
